<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="copyright" content="MACode ID, https://macodeid.com/">

  <title>Vanni Unnati|Home</title>

  <link rel="stylesheet" href="../stylesheets/maicons.css">

  <link rel="stylesheet" href="../stylesheets/bootstrap.css">

  <link rel="stylesheet" href="../vendor/animate/animate.css">

  <link rel="stylesheet" href="../stylesheets/theme.css">
  <link rel="stylesheet" href="../stylesheets/i.css">
</head>
<body>

  <!-- Back to top button -->
  <div class="back-to-top"></div>

  <header>
    <nav class="navbar navbar-expand-lg navbar-light bg-white sticky" data-offset="500">
      <div class="container">
        <a href="#" class="navbar-brand"><b>Vanni</b> <span class="text-primary"> Unnati</span></a>

        <button class="navbar-toggler" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="navbar-collapse collapse" id="navbarContent">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" style="color: rgb(4, 1, 14);" href="/practice">Practice</a>
            </li>
           
            <li class="nav-item">
              <a class="nav-link" style="color: rgb(4, 1, 14);" href="/khel">Khel</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" style="color: rgb(4, 1, 14);" href="/profile">Profile</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" style="color: rgb(4, 1, 14);" href="/leaderboard">Leaderboard</a>
            </li>

            <!-- <li class="nav-item">
              <a class="nav-link" style="color: rgb(4, 1, 14);" href="https://wa.me/c/919822323411" target="_blank">catalogue</a>
            </li> -->
            
            
            <li class="nav-item">
              <a class="btn btn-primary ml-lg-2" href="/register">Register Here</a>
            </li>
          </ul>
        </div>

      </div>
    </nav>

    
    

  <div class="page-section" style="background-color: rgba(127, 255, 212, 0.198);">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 py-3 wow fadeInUp">
          <h1>Improve Your Speech with Our Interactive Therapy  Materials</h1>
          <p class="text-grey mb-4">Our misarticulation therapy app provides interactive exercises, real-time feedback, and personalized practice materials to help you achieve clear and confident speech. Get started on your speech improvement journey today!</p>
          <a href="/practice" class="btn btn-primary">Start Your Practice</a>
        </div>
        <div class="col-lg-6 py-3 wow fadeInRight">
          <div class="img-fluid text-center">
            <img src="../images/background.jpg" alt="Speech Therapy Illustration" class="img-fluid" style="max-width: 500px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
          </div>
        </div>
      </div>
<!-- 
      <div class="row mt-5">
        <div class="col-lg-4 py-3 wow fadeInUp">
          <div class="card-service-2" style="text-align: center;">
            <div class="header">
              <i class="fas fa-microphone fa-3x mb-3" style="color: #6C55F9;"></i>
            </div>
            <h5>Speech Practice</h5>
            <p>Interactive exercises with voice recognition technology</p>
          </div>
        </div>
        <div class="col-lg-4 py-3 wow fadeInUp" data-wow-delay="300ms">
          <div class="card-service-2" style="text-align: center;">
            <div class="header">
              <i class="fas fa-chart-line fa-3x mb-3" style="color: #6C55F9;"></i>
            </div>
            <h5>Progress Tracking</h5>
            <p>Monitor your improvement with detailed analytics</p>
          </div>
        </div>
        <div class="col-lg-4 py-3 wow fadeInUp" data-wow-delay="600ms">
          <div class="card-service-2" style="text-align: center;">
            <div class="header">
              <i class="fas fa-graduation-cap fa-3x mb-3" style="color: #6C55F9;"></i>
            </div>
            <h5>Personalized Learning</h5>
            <p>Customized exercises based on your needs</p>
          </div>
        </div>
      </div> -->
    </div>
  </div>
  </header>


   
  <br><br>
  <br><br>
  
  <center><h1 style="font-family: 'Times New Roman', serif; font-size: 45px; color: rgb(42, 63, 165); font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.2);">Speech Accuracy Test</h1></center>
  <br><br>
        <div class="col-lg-8 mx-auto"  style="background-color: rgba(94, 48, 187, 0.198); width: 350px; height: 450px;">
          <div class="card-service wow fadeInUp" style="background: rgba(94, 93, 93, 0.091); max-width: 800px; margin: 0 auto;">
            <div class="header">
              <img src="https://ic.nordcdn.com/v1/https://sb.nordcdn.com/m/28096274f684f32a/original/Blog-featured-is-my-phone-listening-to-me-svg.svg" alt="" height="200px" width="200px">
            </div>
            <div class="body">
              <h5 class="text-secondary">SPEECH ACCURACY TEST</h5>
              <p>Test your pronunciation with our speech accuracy assessment</p>
              
              <div id="test-container" style="display: none; max-width: 700px; margin: 0 auto;">
                <div class="card p-4 mb-4">
                  <h6 class="text-primary mb-3">Please read this sentence:</h6>
                  <p id="current-sentence" class="lead mb-3 font-weight-bold"></p>
                  
                  <div class="d-flex justify-content-center mb-3">
                    <button id="start-recording" class="btn btn-success mx-2">
                      <i class="fas fa-microphone"></i> Start Recording
                    </button>
                    <button id="stop-recording" class="btn btn-danger mx-2" style="display: none;">
                      <i class="fas fa-stop"></i> Stop Recording
                    </button>
                  </div>

                  <div id="recording-status" class="text-center mb-3" style="display: none;">
                    <div class="spinner-grow text-primary" role="status">
                      <span class="sr-only">Recording...</span>
                    </div>
                    <p class="text-muted mt-2">Recording in progress...</p>
                  </div>

                  <div class="progress mb-3" style="display: none;">
                    <div id="audio-level" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"></div>
                  </div>

                  <div id="result-container" class="text-center p-3" style="display: none;">
                    <h6 class="text-secondary">Your Recording:</h6>
                    <p id="spoken-text" class="font-italic"></p>
                    <div class="accuracy-meter">
                      <div class="d-flex justify-content-between">
                        <span>Accuracy:</span>
                        <span id="accuracy-score">0%</span>
                      </div>
                      <div class="progress">
                        <div id="accuracy-bar" class="progress-bar bg-success" role="progressbar"></div>
                      </div>
                    </div>
                  </div>
                </div>

                <div id="final-score" class="card p-4 text-center" style="display: none;">
                  <h4 class="text-success mb-3">Test Complete!</h4>
                  <div class="final-stats">
                    <h5>Your Results:</h5>
                    <div id="score-details" class="mt-3"></div>
                    <div class="mt-3">
                      <button onclick="restartTest()" class="btn btn-primary">Try Again</button>
                    </div>
                  </div>
                </div>
              </div>

              <button onclick="startTest()" id="start-test" class="btn btn-primary btn-lg btn-block">
                <i class="fas fa-play"></i> Start Speech Test
              </button>
              
              <script>
                // const sentences = [
                //   "The quick brown fox jumps over the lazy dog",
                //   "She sells seashells by the seashore",
                //   "How much wood would a woodchuck chuck if a woodchuck could chuck wood",
                //   "Peter Piper picked a peck of pickled peppers",
                //   "Betty bought some butter but the butter was bitter"
                // ];

                const sentences = [
                  "क्षितिज पर सूर्य दृष्टिगोचर होता है।",
                  "क्रांतिकारी क्रोधित हो गए।",
                  "ज्वालामुखी ज्वाला फैलाता है।",
                  "क्षुधा से क्षीण हो गया।",
                  "प्रश्न पूछने की प्रक्रिया।"
                ];
                
                let currentSentence = 0;
                let scores = [];
                let audioContext;
                let mediaStream;
                let recognition = null;
                
                function startTest() {
                  document.getElementById('test-container').style.display = 'block';
                  document.getElementById('start-test').style.display = 'none';
                  initializeSpeechRecognition();
                  showNextSentence();
                }

                function initializeSpeechRecognition() {
                  try {
                    recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
                    recognition.continuous = false;
                    recognition.interimResults = false;
                    recognition.lang = 'hi-IN';

                    recognition.onstart = () => {
                      document.getElementById('recording-status').style.display = 'block';
                      document.getElementById('start-recording').style.display = 'none';
                      document.getElementById('stop-recording').style.display = 'block';
                      startAudioVisualization();
                    };

                    recognition.onend = () => {
                      document.getElementById('recording-status').style.display = 'none';
                      document.getElementById('start-recording').style.display = 'block';
                      document.getElementById('stop-recording').style.display = 'none';
                      stopAudioVisualization();
                    };

                    recognition.onresult = (event) => {
                      if (event.results.length > 0) {
                        const spokenText = event.results[0][0].transcript;
                        const accuracy = compareTexts(spokenText, sentences[currentSentence]);
                        scores.push(accuracy);
                        
                        document.getElementById('spoken-text').textContent = spokenText;
                        document.getElementById('accuracy-score').textContent = `${accuracy.toFixed(1)}%`;
                        document.getElementById('accuracy-bar').style.width = `${accuracy}%`;
                        document.getElementById('result-container').style.display = 'block';
                        
                        setTimeout(() => {
                          currentSentence++;
                          showNextSentence();
                        }, 3000);
                      }
                    };

                    recognition.onerror = (event) => {
                      console.error('Speech recognition error:', event.error);
                      alert('Error with speech recognition. Please check your microphone permissions.');
                      stopAudioVisualization();
                    };

                  } catch (err) {
                    console.error('Speech recognition not supported:', err);
                    alert('Speech recognition is not supported in your browser. Please use Chrome or Edge.');
                  }
                }

                function restartTest() {
                  currentSentence = 0;
                  scores = [];
                  document.getElementById('final-score').style.display = 'none';
                  document.getElementById('result-container').style.display = 'none';
                  showNextSentence();
                }

                function showNextSentence() {
                  if (currentSentence < sentences.length) {
                    document.getElementById('current-sentence').textContent = sentences[currentSentence];
                    document.getElementById('start-recording').style.display = 'block';
                    document.getElementById('result-container').style.display = 'none';
                  } else {
                    showFinalResults();
                  }
                }

                function showFinalResults() {
                  const avgScore = scores.reduce((a,b) => a+b, 0) / scores.length;
                  let scoreDetails = '<div class="row">';
                  scores.forEach((score, index) => {
                    scoreDetails += `
                      <div class="col-12 mb-2">
                        <div class="d-flex justify-content-between">
                          <span>Sentence ${index + 1}:</span>
                          <span class="font-weight-bold">${score.toFixed(1)}%</span>
                        </div>
                        <div class="progress">
                          <div class="progress-bar bg-info" role="progressbar" style="width: ${score}%"></div>
                        </div>
                      </div>
                    `;
                  });
                  scoreDetails += '</div>';
                  scoreDetails += `
                    <div class="mt-3 pt-3 border-top">
                      <h6>Overall Accuracy: ${avgScore.toFixed(1)}%</h6>
                    </div>
                  `;
                  
                  document.getElementById('score-details').innerHTML = scoreDetails;
                  document.getElementById('test-container').style.display = 'block';
                  document.getElementById('final-score').style.display = 'block';
                }

                async function startAudioVisualization() {
                  try {
                    mediaStream = await navigator.mediaDevices.getUserMedia({ 
                      audio: {
                        echoCancellation: true,
                        noiseSuppression: true,
                        autoGainControl: true
                      }
                    });
                    
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const analyser = audioContext.createAnalyser();
                    const source = audioContext.createMediaStreamSource(mediaStream);
                    source.connect(analyser);
                    
                    analyser.fftSize = 256;
                    const bufferLength = analyser.frequencyBinCount;
                    const dataArray = new Uint8Array(bufferLength);
                    
                    function updateAudioLevel() {
                      if (!mediaStream) return;
                      
                      analyser.getByteFrequencyData(dataArray);
                      const average = dataArray.reduce((a,b) => a+b) / bufferLength;
                      const level = (average / 256) * 100;
                      
                      document.getElementById('audio-level').style.width = `${level}%`;
                      document.querySelector('.progress').style.display = 'block';
                      
                      requestAnimationFrame(updateAudioLevel);
                    }
                    
                    updateAudioLevel();
                  } catch (err) {
                    console.error('Error accessing microphone:', err);
                    alert('Please ensure you have given microphone permissions and your microphone is working properly.');
                  }
                }

                function stopAudioVisualization() {
                  if (mediaStream) {
                    mediaStream.getTracks().forEach(track => track.stop());
                    mediaStream = null;
                  }
                  if (audioContext) {
                    audioContext.close();
                    audioContext = null;
                  }
                  document.querySelector('.progress').style.display = 'none';
                }

                document.getElementById('start-recording').onclick = () => {
                  if (recognition) {
                    recognition.start();
                  } else {
                    alert('Speech recognition not initialized. Please restart the test.');
                  }
                };

                document.getElementById('stop-recording').onclick = () => {
                  if (recognition) {
                    recognition.stop();
                  }
                };

                function compareTexts(spoken, original) {
                  const spokenWords = spoken.toLowerCase().trim().split(/\s+/);
                  const originalWords = original.toLowerCase().trim().split(/\s+/);
                  
                  let matches = 0;
                  const maxLength = Math.max(spokenWords.length, originalWords.length);
                  
                  originalWords.forEach((word, i) => {
                    if (spokenWords[i] === word) matches++;
                  });
                  
                  return (matches / maxLength) * 100;
                }
              </script>

              <style>
                .accuracy-meter {
                  background: #f8f9fa;
                  padding: 1rem;
                  border-radius: 5px;
                }
                .final-stats {
                  background: #fff;
                  padding: 1.5rem;
                  border-radius: 8px;
                  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                }
                .spinner-grow {
                  width: 2rem;
                  height: 2rem;
                }
              </style>
            </div>
          </div>
        </div>

  
 

<br><br>
 

<script src="../javascripts/jquery-3.5.1.min.js"></script>

<script src="../javascripts/bootstrap.bundle.min.js"></script>

<script src="../javascripts/google-maps.js"></script>

<script src="../vendor/wow/wow.min.js"></script>

<script src="../javascripts/theme.js"></script>
  
</body>
</html>